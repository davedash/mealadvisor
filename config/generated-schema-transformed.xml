<?xml version="1.0" encoding="UTF-8"?>
<database defaultPhpNamingMethod="underscore" heavyIndexing="false" name="propel" defaultIdMethod="native" noXsd="true" package="lib.model"><table skipSql="false" abstract="false" name="profile" phpName="Profile"><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="userid" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="email" type="varchar" size="128"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="openid" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="preferences" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><unique name="userid_unique"><unique-column name="userid"/></unique></table><table skipSql="false" abstract="false" name="restaurant" phpName="Restaurant"><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="name" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="stripped_title" type="varchar" size="128"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="approved" type="boolean"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="average_rating" type="float" size="2" scale="1"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="num_ratings" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="version_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant_version"><reference local="version_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="restaurant_search_index" phpName="RestaurantSearchIndex"><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="word" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="weight" type="integer"/><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><index name="word_index"><index-column name="word"/></index></table><table skipSql="false" abstract="false" name="restaurant_version" phpName="RestaurantVersion"><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="chain" type="boolean"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="description" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="html_description" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="url" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="TIMESTAMP"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="profile" onDelete="setnull"><reference local="user_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="location" phpName="Location"><column required="false" lazyLoad="false" name="id" type="integer" primaryKey="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="stripped_title" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="name" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="address" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="city" type="varchar" size="128"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="state" type="varchar" size="16"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="zip" type="varchar" size="9"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="country_id" type="char" size="2"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="latitude" type="float" size="10" scale="7"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="longitude" type="float" size="10" scale="7"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="phone" type="varchar" size="16"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="approved" type="boolean"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="TIMESTAMP"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="TIMESTAMP"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="country"><reference local="country_id" foreign="iso"/></foreign-key></table><table skipSql="false" abstract="false" name="menu_image" phpName="MenuImage"><column required="false" lazyLoad="false" name="id" type="integer" primaryKey="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="location_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="filename" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="approved" type="boolean"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="location"><reference local="location_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="menu_item" phpName="MenuItem"><column required="false" lazyLoad="false" name="id" type="integer" primaryKey="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="name" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="url" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="version_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="approved" type="boolean"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="average_rating" type="float" size="2" scale="1"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="num_ratings" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="TIMESTAMP"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="TIMESTAMP"/><foreign-key onDelete="none" onUpdate="none" foreignTable="menuitem_version"><reference local="version_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="menuitem_version"><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="description" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="html_description" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="location_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="menuitem_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="price" type="varchar" size="16"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><foreign-key onDelete="none" onUpdate="none" foreignTable="location"><reference local="location_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="menu_item"><reference local="menuitem_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="menuitem_search_index" phpName="MenuitemSearchIndex"><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="menuitem_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="word" type="varchar" size="255"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="weight" type="integer"/><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><foreign-key onDelete="none" onUpdate="none" foreignTable="menu_item"><reference local="menuitem_id" foreign="id"/></foreign-key><index name="word_index"><index-column name="word"/></index></table><table skipSql="false" abstract="false" name="restaurant_note" phpName="RestaurantNote"><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="note" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="html_note" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="location_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="location"><reference local="location_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="menuitem_note" phpName="MenuItemNote"><column required="false" lazyLoad="false" name="id" type="integer" primaryKey="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="menu_item_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="note" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="html_note" type="longvarchar"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><foreign-key onDelete="none" onUpdate="none" foreignTable="menu_item"><reference local="menu_item_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="restaurant_rating" phpName="RestaurantRating"><column required="false" lazyLoad="false" name="id" type="integer" primaryKey="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="value" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="location_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="TIMESTAMP"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="location"><reference local="location_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="menuitem_rating" phpName="MenuItemRating"><column required="false" lazyLoad="false" name="id" type="integer" primaryKey="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="menu_item_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="value" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="TIMESTAMP"/><foreign-key onDelete="none" onUpdate="none" foreignTable="menu_item"><reference local="menu_item_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="menuitem_tag"><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="menu_item_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="tag" type="varchar" size="100"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="normalized_tag" type="varchar" size="100"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><foreign-key onDelete="none" onUpdate="none" foreignTable="menu_item"><reference local="menu_item_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key><index name="normalized_tag_index"><index-column name="normalized_tag"/></index></table><table skipSql="false" abstract="false" name="country" phpName="Country"><column autoIncrement="false" lazyLoad="false" name="iso" type="char" size="2" required="true" primaryKey="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="name" type="varchar" size="80"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="printable_name" type="varchar" size="80"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="iso3" type="char" size="3"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="numcode" type="smallint"/></table><table skipSql="false" abstract="false" name="menu_item_image" phpName="MenuItemImage"><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="menu_item_id" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="data" type="blob"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="md5sum" type="varchar" size="32"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="height" type="integer"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="width" type="integer"/><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="menu_item"><reference local="menu_item_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="restaurant_tag"><column required="false" autoIncrement="false" lazyLoad="false" name="restaurant_id" type="integer" primaryKey="true"/><column required="false" autoIncrement="false" lazyLoad="false" name="user_id" type="integer" primaryKey="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="tag" type="varchar" size="100"/><column required="false" autoIncrement="false" lazyLoad="false" name="normalized_tag" type="varchar" size="100" primaryKey="true"/><foreign-key onDelete="none" onUpdate="none" foreignTable="restaurant"><reference local="restaurant_id" foreign="id"/></foreign-key><foreign-key onDelete="none" onUpdate="none" foreignTable="profile"><reference local="user_id" foreign="id"/></foreign-key><index name="normalized_tag_index"><index-column name="normalized_tag"/></index></table></database>
